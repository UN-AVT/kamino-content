---
pagetitle: "Life Expectancy"
output: 
  html_document:
    theme: lumen
    css: "../../../z-assemblers/assets/styles/content.css"
    df_print: paged
    mathjax: NULL
    code_folding: show
    include:
      in_header: ["../../../z-assemblers/fragments/google-analytics.html", "../../../z-assemblers/fragments/header.html"]
      after_body: "../../../z-assemblers/fragments/footer.html"
    self_contained: false
    lib_dir: vendor

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
options(scipen=999)  # turn-off scientific notation like 1e+48


library(tidyverse)
library(classInt)


```

<div class="activity">
ANALYTICS
</div>

# Discretize
## Life Expectancy in 2019

```{r, out.width = "60%", fig.align = 'center', fig.cap="Photo by Nathan Dumlao on Unsplash"}

masthead <- "assets/nathan-dumlao-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```


> We don't want to end up in a class war. We want everyone to have food, clean water, and a long life expectancy...\
--- Arvind Gupta\

Discretizing is a method to smooth a sorted data value by consulting its neighborhood of values around it. The sorted values are distributed into a number of neighborhood bins. This method enables you to reduce a continuous variable to a fixed number of discrete observations.

These are the methods that can be applied, each with their own pros and cons depending on the profile of the data:

* __Equal-width__ : divides the range into ùëÅ intervals of equal size.
* __Equal-frequency__ : divides the range into ùëÅ intervals, each containing approximately the same number of samples
  
***

### Load Data

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

df <- read.csv("archetypes/life_expectancy-2019.csv", skip = 4)

df


```




### Clean Data

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

df1 <- df%>% select(Country.Name, X2019) %>% rename("Country" = "Country.Name", "2019"="X2019")
df1

df2<-na.omit(df1)
df2

```


## Equal Width



```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

equal_width <- classIntervals(df2$"2019", 10, style = 'equal')
equal_width
```



## Equal frequency



```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

equal_fre <- classIntervals(df1$"2019", 3, style = 'quantile')
equal_fre

```


### References
#### citations for narrative and data sources


* Data sources: The World Bank, [GO](https://data.worldbank.org/indicator/SP.DYN.LE00.IN){target="_blank"}


```{js, message=FALSE, warning=FALSE, echo=FALSE}

// Must be included to position footer
$(function() {
  $('.main-container').after($('.footer'));
})

```

