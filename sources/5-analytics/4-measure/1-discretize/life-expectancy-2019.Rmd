---
pagetitle: "Life Expectancy"
output:
  bookdown::gitbook: default
documentclass: book
date: "`r Sys.Date()`"
---

```{r, include=FALSE}
knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
options(scipen=999)  # turn-off scientific notation like 1e+48

library(tidyverse)
library(classInt)

```

ANALYTICS


# Discretize
## Life Expectancy in 2019

```{r, out.width = "60%", fig.align = 'center', fig.cap="Photo by Nathan Dumlao on Unsplash"}

masthead <- "assets/nathan-dumlao-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```


> We don't want to end up in a class war. We want everyone to have food, clean water, and a long life expectancy...\
--- Arvind Gupta\

Discretizing is a method to smooth a sorted data value by consulting its neighborhood of values around it. The sorted values are distributed into a number of neighborhood bins. This method enables you to reduce a continuous variable to a fixed number of discrete observations.

These are the methods that can be applied, each with their own pros and cons depending on the profile of the data:

* __Equal-width__ : divides the range into ùëÅ intervals of equal size.
* __Equal-frequency__ : divides the range into ùëÅ intervals, each containing approximately the same number of samples
  
***

### Load Data

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

df <- read.csv("archetypes/life_expectancy-2019.csv", skip = 4)

df


```




### Clean Data

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

df1 <- df%>% select(Country.Name, X2019) %>% rename("Country" = "Country.Name", "2019"="X2019")
df1

df2<-na.omit(df1)
df2

```


## Equal Width



```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

equal_width <- classIntervals(df2$"2019", 10, style = 'equal')
equal_width
```



## Equal frequency



```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

equal_fre <- classIntervals(df1$"2019", 3, style = 'quantile')
equal_fre

```


### References
#### citations for narrative and data sources


* Data sources: The World Bank, [GO](https://data.worldbank.org/indicator/SP.DYN.LE00.IN){target="_blank"}

