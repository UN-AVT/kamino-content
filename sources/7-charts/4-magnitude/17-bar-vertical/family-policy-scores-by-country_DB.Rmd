---
pagetitle: "Kamino"
output: 
  html_document:
    theme: lumen
    css: ["../../../z-assemblers/assets/styles/content/kamino.css", "../../../z-assemblers/assets/icons/line-awesome/css/line-awesome.css"]
    df_print: paged
    mathjax: NULL
    code_folding: show
    include:
      in_header: "../../../z-assemblers/fragments/header.html"
      after_body: "../../../z-assemblers/fragments/footer.html"
    self_contained: false
    lib_dir: libs
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
options(scipen = 999) # turn-off scientific notation like 1e+48

library(tidyverse)

```

<div class="activity">
CHARTS
</div>

# Bar Vertical
## Real-life case: Family Policy Scores by Country

> Don't call the world dirty because you forgot to clean your glasses...\
--- Aaron Hill\



***

# Load the data
## Family Integration Policy Average Scores by Country, 2014

```{r load-data, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

# Load data
df = read_csv("./archetypes/family-policy-scores-by-country/figure-7-3.csv")
df

```

# Data Wrangling  
* Remane last column to "score"

```{r}

df_1 <- df %>%
  select(country = Country, score = `Family Integration Policy Average Scores`)

df_1

```


# Plot the chart
## Family Integration Policy Average Scores by Country, 2014 - Figure 7.3

# Step 1

```{r}
ggplot(df_1) +
  geom_col(aes(x=country, y=score))

```

# Step 2
* color and size the bars

```{r}

ggplot(df_1) +
  geom_col(aes(x=country, y=score), width=0.6, fill="darkseagreen3")

#layer_data(v1)

```

```{r}
ggplot(df_1) +
  geom_col(aes(x=country, y=score), width=0.6, fill="darkseagreen3")

```

```{r}
ggplot(df_1) +
  geom_col(aes(x=country, y=score), width=0.6, fill="darkseagreen3") +
  scale_y_continuous(breaks=seq(10, 100, 10), limits=c(0, 100))

```
```{r}
ggplot(df_1) +
  geom_col(aes(x=country, y=score), width=0.6, fill="darkseagreen3") +
  scale_y_continuous(breaks=seq(10, 100, 10), limits=c(0, 100))

```

```{r draw-plot, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show', fig.width=10.5, fig.height=7.5}

# Make the plot
ggplot(df_1, aes(x=reorder(country, -score), y=score)) +
  geom_col(width=0.6, fill="darkseagreen3") +
  scale_y_continuous(breaks=seq(10, 100, 10), limits=c(0, 100)) +
  labs(title="Family Integration Policy Average Scores by Country, 2014 - Figure 7.3",
       caption="Source: UN Women calculations from CIDOB and the MPG 2015") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle=90, hjust=1, vjust=0.2),
        plot.caption = element_text(hjust = 0),
        panel.grid.major.x = element_blank()) +
  xlab("") + # for the x axis label
  ylab("Family integration policy average scores") + # for the y axis label
  coord_cartesian(ylim=c(0, 100))

```

# References
## The citations and data sources used for this case

Source: <a href=""></a>

```{r generateBibliography, echo=FALSE, eval=TRUE, message=FALSE, warning=FALSE}

cleanbib()
options("citation_format" = "pandoc")
#read.bibtex(file = "../archetypes/.bib")

```



