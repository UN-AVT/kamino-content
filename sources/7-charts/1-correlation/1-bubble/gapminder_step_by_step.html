<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>How Does Income Relate to Life Expectancy</title>

<script src="vendor/header-attrs-2.10/header-attrs.js"></script>
<script src="vendor/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="vendor/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="vendor/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="vendor/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="vendor/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="vendor/navigation-1.1/tabsets.js"></script>
<script src="vendor/navigation-1.1/codefolding.js"></script>
<link href="vendor/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="vendor/highlightjs-9.12.0/highlight.js"></script>
<link href="vendor/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="vendor/pagedtable-1.1/js/pagedtable.js"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GHLBJTGCKN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-GHLBJTGCKN');
  </script>
<div class="border-bottom">
  
  <div class="header">
    
  <img src="../../../z-assemblers/assets/logo/logo.svg" alt="" height="36">

  <div class="nav" style="float: right;">
      <a class="nav-link" 
        style="color: #111111;" 
        href="home.html" 
        data-bs-toggle="tooltip" 
        data-bs-placement="bottom"
        title="Home">
        <img src="../../../z-assemblers/assets/icons/campground-solid.svg" alt="" height="32">
      </a>
      <a class="nav-link" 
        style="color: #111111;" 
        href="explorer.html" 
        data-bs-toggle="tooltip"
        data-bs-placement="bottom" 
        title="Search for content">
        <img src="../../../z-assemblers/assets/icons/compass.svg" alt="" height="32">
      </a>
      <a class="nav-link" 
        style="color: #111111;" 
        href="https://github.com/UN-AVT" 
        data-bs-toggle="tooltip"
        data-bs-placement="bottom"
        title="Project">
        <img src="../../../z-assemblers/assets/icons/github-alt-brands.svg" alt="" height="32">
      </a>
    </div>

</div>
</div>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="C:/GitHub/Perso/kamino-source/sources/z-assemblers/assets/styles/content.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<div class="activity">
<p>CHART</p>
</div>
<div id="how-does-income-relate-to-life-expectancy" class="section level1">
<h1>How Does Income Relate to Life Expectancy</h1>
<div id="bubble-chart" class="section level2">
<h2>Bubble Chart</h2>
<p>This epic chart was presented by <strong>Hans Rosling</strong> to illustrate that income and health go hand in hand. People live longer in richer countries. Or the other way around. Countries are richer where people live longer. There are no high income countries with a short life expectancy, and no low income countries with a long life expectancy. Still, there’s a huge difference in life expectancy between countries on the same income level, depending on how the money is distributed and how it is used.</p>
<p>The <strong>y-axis</strong> shows a continuum from healthy to sick, the <strong>x-axis</strong> from rich to poor. The bubbles are <strong>sized</strong> by population and <strong>colored</strong> by continent.</p>
<div id="ingest-the-data" class="section level3">
<h3>Ingest the data</h3>
<ul>
<li>Life expectancy, income and populaction of 188 nations in year 2019</li>
</ul>
<pre class="r fold-hide"><code>df &lt;- read_csv(&quot;archetypes/gapminder/gapminder.csv&quot;)
df</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["country_code"],"name":[2],"type":["chr"],"align":["left"]},{"label":["gdp"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["life_expectancy"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["pop"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Afghanistan","2":"afg","3":"1947","4":"59.00","5":"37209007"},{"1":"Albania","2":"alb","3":"12958","4":"78.16","5":"2938428"},{"1":"Algeria","2":"dza","3":"13711","4":"78.07","5":"42679018"},{"1":"Angola","2":"ago","3":"5761","4":"65.46","5":"31787566"},{"1":"Antigua and Barbuda","2":"atg","3":"21165","4":"77.76","5":"104084"},{"1":"Argentina","2":"arg","3":"19288","4":"77.13","5":"45101781"},{"1":"Armenia","2":"arm","3":"8930","4":"76.14","5":"2936706"},{"1":"Aruba","2":"abw","3":"39928","4":"76.28","5":"106053"},{"1":"Australia","2":"aus","3":"46423","4":"83.04","5":"25088636"},{"1":"Austria","2":"aut","3":"44851","4":"82.02","5":"8766201"},{"1":"Azerbaijan","2":"aze","3":"16874","4":"72.40","5":"10014575"},{"1":"Bahamas","2":"bhs","3":"22063","4":"74.24","5":"403095"},{"1":"Bahrain","2":"bhr","3":"44385","4":"77.32","5":"1637896"},{"1":"Bangladesh","2":"bgd","3":"3942","4":"73.71","5":"168065920"},{"1":"Barbados","2":"brb","3":"16194","4":"76.99","5":"287010"},{"1":"Belarus","2":"blr","3":"17612","4":"73.91","5":"9433874"},{"1":"Belgium","2":"bel","3":"43196","4":"81.40","5":"11562784"},{"1":"Belize","2":"blz","3":"7635","4":"72.65","5":"390231"},{"1":"Benin","2":"ben","3":"2260","4":"65.24","5":"11801595"},{"1":"Bhutan","2":"btn","3":"10596","4":"75.18","5":"826229"},{"1":"Bolivia","2":"bol","3":"7105","4":"74.31","5":"11379861"},{"1":"Bosnia and Herzegovina","2":"bih","3":"12542","4":"78.11","5":"3501774"},{"1":"Botswana","2":"bwa","3":"16976","4":"67.46","5":"2374636"},{"1":"Brazil","2":"bra","3":"14530","4":"75.91","5":"212392717"},{"1":"Brunei","2":"brn","3":"83077","4":"77.53","5":"439336"},{"1":"Bulgaria","2":"bgr","3":"19433","4":"75.45","5":"6988739"},{"1":"Burkina Faso","2":"bfa","3":"1773","4":"61.99","5":"20321560"},{"1":"Burundi","2":"bdi","3":"678","4":"61.53","5":"11575964"},{"1":"Cambodia","2":"khm","3":"4022","4":"69.68","5":"16482646"},{"1":"Cameroon","2":"cmr","3":"3247","4":"61.74","5":"25312993"},{"1":"Canada","2":"can","3":"44076","4":"82.33","5":"37279811"},{"1":"Cape Verde","2":"cpv","3":"6599","4":"74.26","5":"560349"},{"1":"Central African Republic","2":"caf","3":"713","4":"52.17","5":"4825711"},{"1":"Chad","2":"tcd","3":"1875","4":"60.86","5":"15814345"},{"1":"Chile","2":"chl","3":"23793","4":"80.87","5":"18336653"},{"1":"China","2":"chn","3":"16864","4":"77.08","5":"1420062022"},{"1":"Colombia","2":"col","3":"14042","4":"78.81","5":"49849818"},{"1":"Comoros","2":"com","3":"1453","4":"68.21","5":"850910"},{"1":"Congo, Dem. Rep.","2":"cod","3":"759","4":"62.84","5":"86727573"},{"1":"Congo, Rep.","2":"cog","3":"5661","4":"64.25","5":"5542197"},{"1":"Costa Rica","2":"cri","3":"16667","4":"81.62","5":"4999384"},{"1":"Cote d'Ivoire","2":"civ","3":"3926","4":"61.71","5":"25531083"},{"1":"Croatia","2":"hrv","3":"23156","4":"77.82","5":"4140148"},{"1":"Cuba","2":"cub","3":"20562","4":"79.52","5":"11492046"},{"1":"Cyprus","2":"cyp","3":"32666","4":"80.95","5":"1198427"},{"1":"Czech Republic","2":"cze","3":"32962","4":"79.52","5":"10630589"},{"1":"Denmark","2":"dnk","3":"47099","4":"81.24","5":"5775224"},{"1":"Djibouti","2":"dji","3":"3649","4":"67.29","5":"985690"},{"1":"Dominican Republic","2":"dom","3":"15824","4":"76.30","5":"10996774"},{"1":"Ecuador","2":"ecu","3":"10189","4":"78.53","5":"17100444"},{"1":"Egypt","2":"egy","3":"11219","4":"72.74","5":"101168745"},{"1":"El Salvador","2":"slv","3":"8433","4":"75.99","5":"6445405"},{"1":"Equatorial Guinea","2":"gnq","3":"19315","4":"66.49","5":"1360104"},{"1":"Eritrea","2":"eri","3":"1258","4":"64.97","5":"5309659"},{"1":"Estonia","2":"est","3":"30379","4":"77.81","5":"1303798"},{"1":"Ethiopia","2":"eth","3":"1904","4":"66.80","5":"110135635"},{"1":"Fiji","2":"fji","3":"9700","4":"65.89","5":"918757"},{"1":"Finland","2":"fin","3":"40765","4":"82.24","5":"5561389"},{"1":"France","2":"fra","3":"39526","4":"82.77","5":"65480710"},{"1":"Gabon","2":"gab","3":"18035","4":"67.65","5":"2109099"},{"1":"Gambia","2":"gmb","3":"1580","4":"68.08","5":"2228075"},{"1":"Georgia","2":"geo","3":"10569","4":"74.49","5":"3904204"},{"1":"Germany","2":"deu","3":"45717","4":"81.42","5":"82438639"},{"1":"Ghana","2":"gha","3":"4481","4":"66.92","5":"30096970"},{"1":"Greece","2":"grc","3":"26034","4":"81.53","5":"11124603"},{"1":"Grenada","2":"grd","3":"13812","4":"71.98","5":"108825"},{"1":"Guatemala","2":"gtm","3":"7636","4":"73.43","5":"17577842"},{"1":"Guinea","2":"gin","3":"1309","4":"62.49","5":"13398180"},{"1":"Guinea-Bissau","2":"gnb","3":"1589","4":"60.06","5":"1953723"},{"1":"Guyana","2":"guy","3":"8000","4":"68.27","5":"786508"},{"1":"Haiti","2":"hti","3":"1744","4":"64.77","5":"11242856"},{"1":"Honduras","2":"hnd","3":"4699","4":"73.25","5":"9568688"},{"1":"Hong Kong, China","2":"hkg","3":"57426","4":"83.89","5":"7490776"},{"1":"Hungary","2":"hun","3":"27641","4":"76.02","5":"9655361"},{"1":"Iceland","2":"isl","3":"48267","4":"82.76","5":"340566"},{"1":"India","2":"ind","3":"7339","4":"69.33","5":"1368737513"},{"1":"Indonesia","2":"idn","3":"12137","4":"72.19","5":"269536482"},{"1":"Iran","2":"irn","3":"17989","4":"76.66","5":"82820766"},{"1":"Iraq","2":"irq","3":"15697","4":"68.18","5":"40412299"},{"1":"Ireland","2":"irl","3":"66951","4":"81.66","5":"4847139"},{"1":"Israel","2":"isr","3":"33846","4":"82.57","5":"8583916"},{"1":"Italy","2":"ita","3":"35486","4":"82.79","5":"59216525"},{"1":"Jamaica","2":"jam","3":"8706","4":"75.31","5":"2906339"},{"1":"Japan","2":"jpn","3":"39359","4":"84.31","5":"126854745"},{"1":"Jordan","2":"jor","3":"8508","4":"76.80","5":"10069794"},{"1":"Kazakhstan","2":"kaz","3":"24579","4":"72.11","5":"18592970"},{"1":"Kenya","2":"ken","3":"3223","4":"67.55","5":"52214791"},{"1":"Kiribati","2":"kir","3":"1882","4":"62.40","5":"120428"},{"1":"North Korea","2":"prk","3":"1386","4":"71.32","5":"25727408"},{"1":"South Korea","2":"kor","3":"37734","4":"81.54","5":"51339238"},{"1":"Kuwait","2":"kwt","3":"68784","4":"80.08","5":"4248974"},{"1":"Kyrgyz Republic","2":"kgz","3":"3613","4":"71.57","5":"6218616"},{"1":"Lao","2":"lao","3":"6616","4":"68.26","5":"7064242"},{"1":"Latvia","2":"lva","3":"26526","4":"75.26","5":"1911108"},{"1":"Lebanon","2":"lbn","3":"13709","4":"80.62","5":"6065922"},{"1":"Lesotho","2":"lso","3":"3064","4":"51.46","5":"2292682"},{"1":"Liberia","2":"lbr","3":"829","4":"65.93","5":"4977720"},{"1":"Libya","2":"lby","3":"18605","4":"75.65","5":"6569864"},{"1":"Lithuania","2":"ltu","3":"31691","4":"75.44","5":"2864459"},{"1":"Luxembourg","2":"lux","3":"99737","4":"82.55","5":"596992"},{"1":"Macao, China","2":"mac","3":"98118","4":"83.38","5":"642090"},{"1":"Macedonia, FYR","2":"mkd","3":"14472","4":"75.32","5":"2086720"},{"1":"Madagascar","2":"mdg","3":"1486","4":"63.74","5":"26969642"},{"1":"Malawi","2":"mwi","3":"1163","4":"61.36","5":"19718743"},{"1":"Malaysia","2":"mys","3":"28100","4":"76.06","5":"32454455"},{"1":"Maldives","2":"mdv","3":"13380","4":"80.38","5":"451738"},{"1":"Mali","2":"mli","3":"2050","4":"63.41","5":"19689140"},{"1":"Malta","2":"mlt","3":"39033","4":"81.91","5":"433245"},{"1":"Mauritania","2":"mrt","3":"3779","4":"70.73","5":"4661149"},{"1":"Mauritius","2":"mus","3":"21780","4":"75.03","5":"1271368"},{"1":"Mexico","2":"mex","3":"17589","4":"76.96","5":"132328035"},{"1":"Micronesia, Fed. Sts.","2":"fsm","3":"3427","4":"65.91","5":"106983"},{"1":"Moldova","2":"mda","3":"5537","4":"72.52","5":"4029750"},{"1":"Mongolia","2":"mng","3":"12558","4":"68.86","5":"3166244"},{"1":"Montenegro","2":"mne","3":"16999","4":"77.50","5":"629355"},{"1":"Morocco","2":"mar","3":"7983","4":"75.68","5":"36635156"},{"1":"Mozambique","2":"moz","3":"1240","4":"61.55","5":"31408823"},{"1":"Myanmar","2":"mmr","3":"6521","4":"70.44","5":"54336138"},{"1":"Namibia","2":"nam","3":"10869","4":"65.99","5":"2641996"},{"1":"Nepal","2":"npl","3":"2486","4":"71.83","5":"29942018"},{"1":"Netherlands","2":"nld","3":"49215","4":"82.07","5":"17132908"},{"1":"New Zealand","2":"nzl","3":"36841","4":"81.92","5":"4792409"},{"1":"Nicaragua","2":"nic","3":"5649","4":"78.97","5":"6351157"},{"1":"Niger","2":"ner","3":"992","4":"62.81","5":"23176691"},{"1":"Nigeria","2":"nga","3":"5679","4":"66.68","5":"200962417"},{"1":"Norway","2":"nor","3":"65502","4":"82.55","5":"5400916"},{"1":"Oman","2":"omn","3":"38398","4":"78.29","5":"5001875"},{"1":"Pakistan","2":"pak","3":"5413","4":"68.11","5":"204596442"},{"1":"Panama","2":"pan","3":"24454","4":"79.59","5":"4226197"},{"1":"Papua New Guinea","2":"png","3":"2828","4":"61.28","5":"8586525"},{"1":"Paraguay","2":"pry","3":"9493","4":"74.87","5":"6981981"},{"1":"Peru","2":"per","3":"13055","4":"80.45","5":"32933835"},{"1":"Philippines","2":"phl","3":"8348","4":"70.69","5":"108106310"},{"1":"Poland","2":"pol","3":"28495","4":"78.35","5":"38028278"},{"1":"Portugal","2":"prt","3":"28301","4":"81.50","5":"10254666"},{"1":"Puerto Rico","2":"pri","3":"32402","4":"79.27","5":"3654978"},{"1":"Qatar","2":"qat","3":"123192","4":"80.86","5":"2743901"},{"1":"Romania","2":"rou","3":"24318","4":"75.66","5":"19483360"},{"1":"Russia","2":"rus","3":"25194","4":"71.20","5":"143895551"},{"1":"Rwanda","2":"rwa","3":"2025","4":"68.60","5":"12794412"},{"1":"St. Lucia","2":"lca","3":"10981","4":"76.77","5":"180454"},{"1":"St. Vincent and the Grenadines","2":"vct","3":"11692","4":"72.14","5":"110488"},{"1":"Samoa","2":"wsm","3":"6028","4":"72.59","5":"198909"},{"1":"Sao Tome and Principe","2":"stp","3":"3288","4":"71.00","5":"213379"},{"1":"Saudi Arabia","2":"sau","3":"49813","4":"77.80","5":"34140662"},{"1":"Senegal","2":"sen","3":"2677","4":"67.15","5":"16743859"},{"1":"Serbia","2":"srb","3":"15469","4":"76.31","5":"8733407"},{"1":"Seychelles","2":"syc","3":"28226","4":"74.42","5":"95702"},{"1":"Sierra Leone","2":"sle","3":"1587","4":"60.43","5":"7883123"},{"1":"Singapore","2":"sgp","3":"85267","4":"84.20","5":"5868104"},{"1":"Slovak Republic","2":"svk","3":"32425","4":"77.29","5":"5450987"},{"1":"Slovenia","2":"svn","3":"31477","4":"81.27","5":"2081900"},{"1":"Solomon Islands","2":"slb","3":"2122","4":"63.80","5":"635254"},{"1":"Somalia","2":"som","3":"631","4":"58.45","5":"15636171"},{"1":"South Africa","2":"zaf","3":"12390","4":"63.89","5":"58065097"},{"1":"Spain","2":"esp","3":"35457","4":"83.37","5":"46441049"},{"1":"Sri Lanka","2":"lka","3":"12925","4":"78.02","5":"21018859"},{"1":"Sudan","2":"sdn","3":"4484","4":"68.99","5":"42514094"},{"1":"Suriname","2":"sur","3":"13337","4":"71.74","5":"573085"},{"1":"Swaziland","2":"swz","3":"7556","4":"58.99","5":"1415414"},{"1":"Sweden","2":"swe","3":"47842","4":"82.53","5":"10053135"},{"1":"Switzerland","2":"che","3":"57415","4":"83.60","5":"8608259"},{"1":"Syria","2":"syr","3":"2900","4":"70.72","5":"18499181"},{"1":"Tajikistan","2":"tjk","3":"3005","4":"72.35","5":"9292000"},{"1":"Tanzania","2":"tza","3":"2886","4":"65.88","5":"60913557"},{"1":"Thailand","2":"tha","3":"17545","4":"78.35","5":"69306160"},{"1":"Timor-Leste","2":"tls","3":"1269","4":"73.65","5":"1352360"},{"1":"Togo","2":"tgo","3":"1529","4":"63.33","5":"8186384"},{"1":"Tonga","2":"ton","3":"5522","4":"70.84","5":"110041"},{"1":"Trinidad and Tobago","2":"tto","3":"30790","4":"73.48","5":"1375443"},{"1":"Tunisia","2":"tun","3":"12021","4":"78.17","5":"11783168"},{"1":"Turkey","2":"tur","3":"25509","4":"79.87","5":"82961805"},{"1":"Turkmenistan","2":"tkm","3":"18793","4":"70.60","5":"5942561"},{"1":"Uganda","2":"uga","3":"1875","4":"63.17","5":"45711874"},{"1":"Ukraine","2":"ukr","3":"8681","4":"72.44","5":"43795220"},{"1":"United Arab Emirates","2":"are","3":"68897","4":"77.04","5":"9682088"},{"1":"United Kingdom","2":"gbr","3":"40658","4":"81.34","5":"66959016"},{"1":"United States","2":"usa","3":"55635","4":"79.29","5":"329093110"},{"1":"Uruguay","2":"ury","3":"21955","4":"77.72","5":"3482156"},{"1":"Uzbekistan","2":"uzb","3":"7038","4":"70.60","5":"32807368"},{"1":"Vanuatu","2":"vut","3":"2902","4":"64.47","5":"288017"},{"1":"Venezuela","2":"ven","3":"13992","4":"76.09","5":"32779868"},{"1":"Palestine","2":"pse","3":"2706","4":"72.36","5":"5186790"},{"1":"Vietnam","2":"vnm","3":"6874","4":"75.08","5":"97429061"},{"1":"Yemen","2":"yem","3":"2505","4":"67.34","5":"29579986"},{"1":"Zambia","2":"zmb","3":"3984","4":"59.75","5":"18137369"},{"1":"Zimbabwe","2":"zwe","3":"2002","4":"60.45","5":"17297495"},{"1":"South Sudan","2":"ssd","3":"1841","4":"61.21","5":"13263184"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="wrangle-the-data" class="section level3">
<h3>Wrangle the data</h3>
<ul>
<li>Enrich data frame with the continent name<br />
</li>
<li>Only keep required columns</li>
</ul>
<pre class="r fold-hide"><code>df_1 &lt;- df %&gt;%
  mutate(continent = countrycode(df$country_code, origin = &#39;iso3c&#39;, destination = &#39;continent&#39;)) %&gt;%
  select(-country_code, population = pop)

df_1</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["gdp"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["life_expectancy"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["population"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["continent"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"Afghanistan","2":"1947","3":"59.00","4":"37209007","5":"Asia"},{"1":"Albania","2":"12958","3":"78.16","4":"2938428","5":"Europe"},{"1":"Algeria","2":"13711","3":"78.07","4":"42679018","5":"Africa"},{"1":"Angola","2":"5761","3":"65.46","4":"31787566","5":"Africa"},{"1":"Antigua and Barbuda","2":"21165","3":"77.76","4":"104084","5":"Americas"},{"1":"Argentina","2":"19288","3":"77.13","4":"45101781","5":"Americas"},{"1":"Armenia","2":"8930","3":"76.14","4":"2936706","5":"Asia"},{"1":"Aruba","2":"39928","3":"76.28","4":"106053","5":"Americas"},{"1":"Australia","2":"46423","3":"83.04","4":"25088636","5":"Oceania"},{"1":"Austria","2":"44851","3":"82.02","4":"8766201","5":"Europe"},{"1":"Azerbaijan","2":"16874","3":"72.40","4":"10014575","5":"Asia"},{"1":"Bahamas","2":"22063","3":"74.24","4":"403095","5":"Americas"},{"1":"Bahrain","2":"44385","3":"77.32","4":"1637896","5":"Asia"},{"1":"Bangladesh","2":"3942","3":"73.71","4":"168065920","5":"Asia"},{"1":"Barbados","2":"16194","3":"76.99","4":"287010","5":"Americas"},{"1":"Belarus","2":"17612","3":"73.91","4":"9433874","5":"Europe"},{"1":"Belgium","2":"43196","3":"81.40","4":"11562784","5":"Europe"},{"1":"Belize","2":"7635","3":"72.65","4":"390231","5":"Americas"},{"1":"Benin","2":"2260","3":"65.24","4":"11801595","5":"Africa"},{"1":"Bhutan","2":"10596","3":"75.18","4":"826229","5":"Asia"},{"1":"Bolivia","2":"7105","3":"74.31","4":"11379861","5":"Americas"},{"1":"Bosnia and Herzegovina","2":"12542","3":"78.11","4":"3501774","5":"Europe"},{"1":"Botswana","2":"16976","3":"67.46","4":"2374636","5":"Africa"},{"1":"Brazil","2":"14530","3":"75.91","4":"212392717","5":"Americas"},{"1":"Brunei","2":"83077","3":"77.53","4":"439336","5":"Asia"},{"1":"Bulgaria","2":"19433","3":"75.45","4":"6988739","5":"Europe"},{"1":"Burkina Faso","2":"1773","3":"61.99","4":"20321560","5":"Africa"},{"1":"Burundi","2":"678","3":"61.53","4":"11575964","5":"Africa"},{"1":"Cambodia","2":"4022","3":"69.68","4":"16482646","5":"Asia"},{"1":"Cameroon","2":"3247","3":"61.74","4":"25312993","5":"Africa"},{"1":"Canada","2":"44076","3":"82.33","4":"37279811","5":"Americas"},{"1":"Cape Verde","2":"6599","3":"74.26","4":"560349","5":"Africa"},{"1":"Central African Republic","2":"713","3":"52.17","4":"4825711","5":"Africa"},{"1":"Chad","2":"1875","3":"60.86","4":"15814345","5":"Africa"},{"1":"Chile","2":"23793","3":"80.87","4":"18336653","5":"Americas"},{"1":"China","2":"16864","3":"77.08","4":"1420062022","5":"Asia"},{"1":"Colombia","2":"14042","3":"78.81","4":"49849818","5":"Americas"},{"1":"Comoros","2":"1453","3":"68.21","4":"850910","5":"Africa"},{"1":"Congo, Dem. Rep.","2":"759","3":"62.84","4":"86727573","5":"Africa"},{"1":"Congo, Rep.","2":"5661","3":"64.25","4":"5542197","5":"Africa"},{"1":"Costa Rica","2":"16667","3":"81.62","4":"4999384","5":"Americas"},{"1":"Cote d'Ivoire","2":"3926","3":"61.71","4":"25531083","5":"Africa"},{"1":"Croatia","2":"23156","3":"77.82","4":"4140148","5":"Europe"},{"1":"Cuba","2":"20562","3":"79.52","4":"11492046","5":"Americas"},{"1":"Cyprus","2":"32666","3":"80.95","4":"1198427","5":"Asia"},{"1":"Czech Republic","2":"32962","3":"79.52","4":"10630589","5":"Europe"},{"1":"Denmark","2":"47099","3":"81.24","4":"5775224","5":"Europe"},{"1":"Djibouti","2":"3649","3":"67.29","4":"985690","5":"Africa"},{"1":"Dominican Republic","2":"15824","3":"76.30","4":"10996774","5":"Americas"},{"1":"Ecuador","2":"10189","3":"78.53","4":"17100444","5":"Americas"},{"1":"Egypt","2":"11219","3":"72.74","4":"101168745","5":"Africa"},{"1":"El Salvador","2":"8433","3":"75.99","4":"6445405","5":"Americas"},{"1":"Equatorial Guinea","2":"19315","3":"66.49","4":"1360104","5":"Africa"},{"1":"Eritrea","2":"1258","3":"64.97","4":"5309659","5":"Africa"},{"1":"Estonia","2":"30379","3":"77.81","4":"1303798","5":"Europe"},{"1":"Ethiopia","2":"1904","3":"66.80","4":"110135635","5":"Africa"},{"1":"Fiji","2":"9700","3":"65.89","4":"918757","5":"Oceania"},{"1":"Finland","2":"40765","3":"82.24","4":"5561389","5":"Europe"},{"1":"France","2":"39526","3":"82.77","4":"65480710","5":"Europe"},{"1":"Gabon","2":"18035","3":"67.65","4":"2109099","5":"Africa"},{"1":"Gambia","2":"1580","3":"68.08","4":"2228075","5":"Africa"},{"1":"Georgia","2":"10569","3":"74.49","4":"3904204","5":"Asia"},{"1":"Germany","2":"45717","3":"81.42","4":"82438639","5":"Europe"},{"1":"Ghana","2":"4481","3":"66.92","4":"30096970","5":"Africa"},{"1":"Greece","2":"26034","3":"81.53","4":"11124603","5":"Europe"},{"1":"Grenada","2":"13812","3":"71.98","4":"108825","5":"Americas"},{"1":"Guatemala","2":"7636","3":"73.43","4":"17577842","5":"Americas"},{"1":"Guinea","2":"1309","3":"62.49","4":"13398180","5":"Africa"},{"1":"Guinea-Bissau","2":"1589","3":"60.06","4":"1953723","5":"Africa"},{"1":"Guyana","2":"8000","3":"68.27","4":"786508","5":"Americas"},{"1":"Haiti","2":"1744","3":"64.77","4":"11242856","5":"Americas"},{"1":"Honduras","2":"4699","3":"73.25","4":"9568688","5":"Americas"},{"1":"Hong Kong, China","2":"57426","3":"83.89","4":"7490776","5":"Asia"},{"1":"Hungary","2":"27641","3":"76.02","4":"9655361","5":"Europe"},{"1":"Iceland","2":"48267","3":"82.76","4":"340566","5":"Europe"},{"1":"India","2":"7339","3":"69.33","4":"1368737513","5":"Asia"},{"1":"Indonesia","2":"12137","3":"72.19","4":"269536482","5":"Asia"},{"1":"Iran","2":"17989","3":"76.66","4":"82820766","5":"Asia"},{"1":"Iraq","2":"15697","3":"68.18","4":"40412299","5":"Asia"},{"1":"Ireland","2":"66951","3":"81.66","4":"4847139","5":"Europe"},{"1":"Israel","2":"33846","3":"82.57","4":"8583916","5":"Asia"},{"1":"Italy","2":"35486","3":"82.79","4":"59216525","5":"Europe"},{"1":"Jamaica","2":"8706","3":"75.31","4":"2906339","5":"Americas"},{"1":"Japan","2":"39359","3":"84.31","4":"126854745","5":"Asia"},{"1":"Jordan","2":"8508","3":"76.80","4":"10069794","5":"Asia"},{"1":"Kazakhstan","2":"24579","3":"72.11","4":"18592970","5":"Asia"},{"1":"Kenya","2":"3223","3":"67.55","4":"52214791","5":"Africa"},{"1":"Kiribati","2":"1882","3":"62.40","4":"120428","5":"Oceania"},{"1":"North Korea","2":"1386","3":"71.32","4":"25727408","5":"Asia"},{"1":"South Korea","2":"37734","3":"81.54","4":"51339238","5":"Asia"},{"1":"Kuwait","2":"68784","3":"80.08","4":"4248974","5":"Asia"},{"1":"Kyrgyz Republic","2":"3613","3":"71.57","4":"6218616","5":"Asia"},{"1":"Lao","2":"6616","3":"68.26","4":"7064242","5":"Asia"},{"1":"Latvia","2":"26526","3":"75.26","4":"1911108","5":"Europe"},{"1":"Lebanon","2":"13709","3":"80.62","4":"6065922","5":"Asia"},{"1":"Lesotho","2":"3064","3":"51.46","4":"2292682","5":"Africa"},{"1":"Liberia","2":"829","3":"65.93","4":"4977720","5":"Africa"},{"1":"Libya","2":"18605","3":"75.65","4":"6569864","5":"Africa"},{"1":"Lithuania","2":"31691","3":"75.44","4":"2864459","5":"Europe"},{"1":"Luxembourg","2":"99737","3":"82.55","4":"596992","5":"Europe"},{"1":"Macao, China","2":"98118","3":"83.38","4":"642090","5":"Asia"},{"1":"Macedonia, FYR","2":"14472","3":"75.32","4":"2086720","5":"Europe"},{"1":"Madagascar","2":"1486","3":"63.74","4":"26969642","5":"Africa"},{"1":"Malawi","2":"1163","3":"61.36","4":"19718743","5":"Africa"},{"1":"Malaysia","2":"28100","3":"76.06","4":"32454455","5":"Asia"},{"1":"Maldives","2":"13380","3":"80.38","4":"451738","5":"Asia"},{"1":"Mali","2":"2050","3":"63.41","4":"19689140","5":"Africa"},{"1":"Malta","2":"39033","3":"81.91","4":"433245","5":"Europe"},{"1":"Mauritania","2":"3779","3":"70.73","4":"4661149","5":"Africa"},{"1":"Mauritius","2":"21780","3":"75.03","4":"1271368","5":"Africa"},{"1":"Mexico","2":"17589","3":"76.96","4":"132328035","5":"Americas"},{"1":"Micronesia, Fed. Sts.","2":"3427","3":"65.91","4":"106983","5":"Oceania"},{"1":"Moldova","2":"5537","3":"72.52","4":"4029750","5":"Europe"},{"1":"Mongolia","2":"12558","3":"68.86","4":"3166244","5":"Asia"},{"1":"Montenegro","2":"16999","3":"77.50","4":"629355","5":"Europe"},{"1":"Morocco","2":"7983","3":"75.68","4":"36635156","5":"Africa"},{"1":"Mozambique","2":"1240","3":"61.55","4":"31408823","5":"Africa"},{"1":"Myanmar","2":"6521","3":"70.44","4":"54336138","5":"Asia"},{"1":"Namibia","2":"10869","3":"65.99","4":"2641996","5":"Africa"},{"1":"Nepal","2":"2486","3":"71.83","4":"29942018","5":"Asia"},{"1":"Netherlands","2":"49215","3":"82.07","4":"17132908","5":"Europe"},{"1":"New Zealand","2":"36841","3":"81.92","4":"4792409","5":"Oceania"},{"1":"Nicaragua","2":"5649","3":"78.97","4":"6351157","5":"Americas"},{"1":"Niger","2":"992","3":"62.81","4":"23176691","5":"Africa"},{"1":"Nigeria","2":"5679","3":"66.68","4":"200962417","5":"Africa"},{"1":"Norway","2":"65502","3":"82.55","4":"5400916","5":"Europe"},{"1":"Oman","2":"38398","3":"78.29","4":"5001875","5":"Asia"},{"1":"Pakistan","2":"5413","3":"68.11","4":"204596442","5":"Asia"},{"1":"Panama","2":"24454","3":"79.59","4":"4226197","5":"Americas"},{"1":"Papua New Guinea","2":"2828","3":"61.28","4":"8586525","5":"Oceania"},{"1":"Paraguay","2":"9493","3":"74.87","4":"6981981","5":"Americas"},{"1":"Peru","2":"13055","3":"80.45","4":"32933835","5":"Americas"},{"1":"Philippines","2":"8348","3":"70.69","4":"108106310","5":"Asia"},{"1":"Poland","2":"28495","3":"78.35","4":"38028278","5":"Europe"},{"1":"Portugal","2":"28301","3":"81.50","4":"10254666","5":"Europe"},{"1":"Puerto Rico","2":"32402","3":"79.27","4":"3654978","5":"Americas"},{"1":"Qatar","2":"123192","3":"80.86","4":"2743901","5":"Asia"},{"1":"Romania","2":"24318","3":"75.66","4":"19483360","5":"Europe"},{"1":"Russia","2":"25194","3":"71.20","4":"143895551","5":"Europe"},{"1":"Rwanda","2":"2025","3":"68.60","4":"12794412","5":"Africa"},{"1":"St. Lucia","2":"10981","3":"76.77","4":"180454","5":"Americas"},{"1":"St. Vincent and the Grenadines","2":"11692","3":"72.14","4":"110488","5":"Americas"},{"1":"Samoa","2":"6028","3":"72.59","4":"198909","5":"Oceania"},{"1":"Sao Tome and Principe","2":"3288","3":"71.00","4":"213379","5":"Africa"},{"1":"Saudi Arabia","2":"49813","3":"77.80","4":"34140662","5":"Asia"},{"1":"Senegal","2":"2677","3":"67.15","4":"16743859","5":"Africa"},{"1":"Serbia","2":"15469","3":"76.31","4":"8733407","5":"Europe"},{"1":"Seychelles","2":"28226","3":"74.42","4":"95702","5":"Africa"},{"1":"Sierra Leone","2":"1587","3":"60.43","4":"7883123","5":"Africa"},{"1":"Singapore","2":"85267","3":"84.20","4":"5868104","5":"Asia"},{"1":"Slovak Republic","2":"32425","3":"77.29","4":"5450987","5":"Europe"},{"1":"Slovenia","2":"31477","3":"81.27","4":"2081900","5":"Europe"},{"1":"Solomon Islands","2":"2122","3":"63.80","4":"635254","5":"Oceania"},{"1":"Somalia","2":"631","3":"58.45","4":"15636171","5":"Africa"},{"1":"South Africa","2":"12390","3":"63.89","4":"58065097","5":"Africa"},{"1":"Spain","2":"35457","3":"83.37","4":"46441049","5":"Europe"},{"1":"Sri Lanka","2":"12925","3":"78.02","4":"21018859","5":"Asia"},{"1":"Sudan","2":"4484","3":"68.99","4":"42514094","5":"Africa"},{"1":"Suriname","2":"13337","3":"71.74","4":"573085","5":"Americas"},{"1":"Swaziland","2":"7556","3":"58.99","4":"1415414","5":"Africa"},{"1":"Sweden","2":"47842","3":"82.53","4":"10053135","5":"Europe"},{"1":"Switzerland","2":"57415","3":"83.60","4":"8608259","5":"Europe"},{"1":"Syria","2":"2900","3":"70.72","4":"18499181","5":"Asia"},{"1":"Tajikistan","2":"3005","3":"72.35","4":"9292000","5":"Asia"},{"1":"Tanzania","2":"2886","3":"65.88","4":"60913557","5":"Africa"},{"1":"Thailand","2":"17545","3":"78.35","4":"69306160","5":"Asia"},{"1":"Timor-Leste","2":"1269","3":"73.65","4":"1352360","5":"Asia"},{"1":"Togo","2":"1529","3":"63.33","4":"8186384","5":"Africa"},{"1":"Tonga","2":"5522","3":"70.84","4":"110041","5":"Oceania"},{"1":"Trinidad and Tobago","2":"30790","3":"73.48","4":"1375443","5":"Americas"},{"1":"Tunisia","2":"12021","3":"78.17","4":"11783168","5":"Africa"},{"1":"Turkey","2":"25509","3":"79.87","4":"82961805","5":"Asia"},{"1":"Turkmenistan","2":"18793","3":"70.60","4":"5942561","5":"Asia"},{"1":"Uganda","2":"1875","3":"63.17","4":"45711874","5":"Africa"},{"1":"Ukraine","2":"8681","3":"72.44","4":"43795220","5":"Europe"},{"1":"United Arab Emirates","2":"68897","3":"77.04","4":"9682088","5":"Asia"},{"1":"United Kingdom","2":"40658","3":"81.34","4":"66959016","5":"Europe"},{"1":"United States","2":"55635","3":"79.29","4":"329093110","5":"Americas"},{"1":"Uruguay","2":"21955","3":"77.72","4":"3482156","5":"Americas"},{"1":"Uzbekistan","2":"7038","3":"70.60","4":"32807368","5":"Asia"},{"1":"Vanuatu","2":"2902","3":"64.47","4":"288017","5":"Oceania"},{"1":"Venezuela","2":"13992","3":"76.09","4":"32779868","5":"Americas"},{"1":"Palestine","2":"2706","3":"72.36","4":"5186790","5":"Asia"},{"1":"Vietnam","2":"6874","3":"75.08","4":"97429061","5":"Asia"},{"1":"Yemen","2":"2505","3":"67.34","4":"29579986","5":"Asia"},{"1":"Zambia","2":"3984","3":"59.75","4":"18137369","5":"Africa"},{"1":"Zimbabwe","2":"2002","3":"60.45","4":"17297495","5":"Africa"},{"1":"South Sudan","2":"1841","3":"61.21","4":"13263184","5":"Africa"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="scatter-plot" class="section level3">
<h3>Scatter plot</h3>
<div id="step-1---map-x-and-y-axis" class="section level4">
<h4>Step 1 - Map x and y axis</h4>
<ul>
<li>First, simple scatter plot of countries with
<ul>
<li>x-axis: GDP<br />
</li>
<li>y-axis: life expectancy</li>
</ul></li>
</ul>
<pre class="r fold-hide"><code>ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  geom_point()</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="step-2---transform-the-x-axis-to-spread-points-across-the-chart" class="section level4">
<h4>Step 2 - Transform the x axis to spread points across the chart</h4>
<ul>
<li>Use the log of x to spread the countries more evenly by GPD</li>
</ul>
<pre class="r fold-hide"><code>ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  geom_point() +
  # Transform the scale of the x axis to &quot;log&quot;
  scale_x_log10(limits = range(df_1$gdp))</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
</div>
<div id="sizing-bubbles" class="section level3">
<h3>Sizing bubbles</h3>
<div id="step-1---map-bubble-size" class="section level4">
<h4>Step 1 - Map bubble size</h4>
<ul>
<li>Use population for the size of the bubble</li>
</ul>
<pre class="r fold-hide"><code>ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population))</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="step-2---control-size-of-bubbles" class="section level4">
<h4>Step 2 - control size of bubbles</h4>
<ul>
<li>Use a manual range to control the size the bubbles</li>
</ul>
<pre class="r fold-hide"><code>ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population)) +
  # Size mapping
  scale_size(&quot;population&quot;, range = c(2, 40))</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
</div>
<div id="adding-colors" class="section level3">
<h3>Adding colors</h3>
<div id="step-1---map-color" class="section level4">
<h4>Step 1 - Map color</h4>
<ul>
<li>color bubbles based on continent value</li>
</ul>
<pre class="r fold-hide"><code>ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40))</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-7-1.png" width="672" /> #### Step 2 - Control colors * Use a manual palette to control colors</p>
<pre class="r fold-hide"><code># Manual palette to match colors
continent_palette &lt;- c(&quot;Africa&quot; = &quot;#A3DDF7&quot;, &quot;Americas&quot; = &quot;#AAE828&quot;, &quot;Asia&quot; = &quot;#DB616F&quot;, &quot;Europe&quot; = &quot;#F6E71D&quot;, &quot;Oceania&quot; = &quot;#DB616F&quot;)

ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40)) +
  # Color mapping
  scale_color_manual(values = continent_palette)</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
</div>
<div id="adding-labels" class="section level3">
<h3>Adding labels</h3>
<div id="step-1---map-labels" class="section level4">
<h4>Step 1 - Map labels</h4>
<ul>
<li>Add country names</li>
</ul>
<pre class="r fold-hide"><code># Manual palette to match colors
continent_palette &lt;- c(&quot;Africa&quot; = &quot;#A3DDF7&quot;, &quot;Americas&quot; = &quot;#AAE828&quot;, &quot;Asia&quot; = &quot;#DB616F&quot;, &quot;Europe&quot; = &quot;#F6E71D&quot;, &quot;Oceania&quot; = &quot;#DB616F&quot;)

ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40)) +
  scale_color_manual(values = continent_palette) +
  # Use geom_text to map country names
  geom_text(aes(label=country))</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="step-2---reduce-labels-displayed" class="section level4">
<h4>Step 2 - Reduce labels displayed</h4>
<ul>
<li>Filter out “small” countries, where population is less than the mean of all countries’s populations.</li>
</ul>
<pre class="r fold-hide"><code># Manual palette to match colors
continent_palette &lt;- c(&quot;Africa&quot; = &quot;#A3DDF7&quot;, &quot;Americas&quot; = &quot;#AAE828&quot;, &quot;Asia&quot; = &quot;#DB616F&quot;, &quot;Europe&quot; = &quot;#F6E71D&quot;, &quot;Oceania&quot; = &quot;#DB616F&quot;)

ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40)) +
  scale_color_manual(values = continent_palette) +
  geom_text(data=filter(df_1, population &gt; mean(population)),
                  aes(label = country, size = population / 2),
                   family = &quot;inconsolata&quot;)</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="step-3---repel-labels" class="section level4">
<h4>Step 3 - repel labels</h4>
<ul>
<li>use "geom_text__repel__" to repel countries so they do not overlap (function available from package <strong>ggrepel</strong>)</li>
</ul>
<pre class="r fold-hide"><code># Manual palette to match colors
continent_palette &lt;- c(&quot;Africa&quot; = &quot;#A3DDF7&quot;, &quot;Americas&quot; = &quot;#AAE828&quot;, &quot;Asia&quot; = &quot;#DB616F&quot;, &quot;Europe&quot; = &quot;#F6E71D&quot;, &quot;Oceania&quot; = &quot;#DB616F&quot;)

ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40)) +
  scale_color_manual(values = continent_palette) +
  geom_text_repel(data=filter(df_1, population &gt; mean(population)),
                  aes(label = country, size = population / 2),
                  family = &quot;inconsolata&quot;)</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
</div>
<div id="cleaning-up-beautifying-the-graph" class="section level3">
<h3>Cleaning up, “beautifying” the graph</h3>
<div id="step-1---labels-and-legends" class="section level4">
<h4>Step 1 - Labels and legends</h4>
<ul>
<li>Turn-off scientific notation<br />
</li>
<li>Add chart title<br />
</li>
<li>Overwrite x and y axis titles</li>
</ul>
<pre class="r fold-hide"><code># turn-off scientific notation like 1e+48
options(scipen=999)  

# Manual palette to match colors
continent_palette &lt;- c(&quot;Africa&quot; = &quot;#A3DDF7&quot;, &quot;Americas&quot; = &quot;#AAE828&quot;, &quot;Asia&quot; = &quot;#DB616F&quot;, &quot;Europe&quot; = &quot;#F6E71D&quot;, &quot;Oceania&quot; = &quot;#DB616F&quot;)

ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40)) +
  scale_color_manual(values = continent_palette) +
  geom_text_repel(data=filter(df_1, population &gt; mean(population)),
                  aes(label = country, size = population / 2), 
                  family = &quot;inconsolata&quot;) +
  # Adding title
  ggtitle(&quot;World Health Chart 2019 by Gapminder&quot;) +
  # Overwriting x and y axis labels
  ylab(&quot;Lifespan, Life Expectancy&quot;) +
  xlab(&quot;Income, GDP per Capita&quot;) </code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="step-2---choose-a-theme" class="section level4">
<h4>Step 2 - Choose a theme</h4>
<ul>
<li>Choose white background with grid lines</li>
</ul>
<pre class="r fold-hide"><code>options(scipen=999)  # turn-off scientific notation like 1e+48

# Manual palette to match colors
continent_palette &lt;- c(&quot;Africa&quot; = &quot;#A3DDF7&quot;, &quot;Americas&quot; = &quot;#AAE828&quot;, &quot;Asia&quot; = &quot;#DB616F&quot;, &quot;Europe&quot; = &quot;#F6E71D&quot;, &quot;Oceania&quot; = &quot;#DB616F&quot;)

ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40)) +
  scale_color_manual(values = continent_palette) +
  geom_text_repel(data=filter(df_1, population &gt; mean(population)),
                  aes(label = country, size = population / 2), 
                  family = &quot;inconsolata&quot;) +
  ggtitle(&quot;World Health Chart 2019 by Gapminder&quot;) +
  ylab(&quot;Lifespan, Life Expectancy&quot;) +
  xlab(&quot;Income, GDP per Capita&quot;) +
  theme_bw() </code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="step-3---further-customize-theme" class="section level4">
<h4>Step 3 - Further customize theme</h4>
<ul>
<li>Control title text font, size…<br />
</li>
<li>Add line to delimit x and y axis<br />
</li>
<li>Remove borders and “minor” gridlines<br />
</li>
<li>remove legend</li>
</ul>
<pre class="r fold-hide"><code>options(scipen=999)  # turn-off scientific notation like 1e+48

# Manual palette to match colors
continent_palette &lt;- c(&quot;Africa&quot; = &quot;#A3DDF7&quot;, &quot;Americas&quot; = &quot;#AAE828&quot;, &quot;Asia&quot; = &quot;#DB616F&quot;, &quot;Europe&quot; = &quot;#F6E71D&quot;, &quot;Oceania&quot; = &quot;#DB616F&quot;)

ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40)) +
  scale_color_manual(values = continent_palette) +
  geom_text_repel(data=filter(df_1, population &gt; mean(population)),
                  aes(label = country, size = population / 2), 
                  family = &quot;inconsolata&quot;) +
  ggtitle(&quot;World Health Chart 2019 by Gapminder&quot;) +
  ylab(&quot;Lifespan, Life Expectancy&quot;) +
  xlab(&quot;Income, GDP per Capita&quot;) +
  theme_bw() +
  theme(
    # Control title text font, size...
    plot.title = element_text(color = &quot;black&quot;, size = 14, face = &quot;bold&quot;),
    # Add line to delimit x and y axis
    axis.line.x = element_line(color=&quot;black&quot;, size = 1),
    axis.line.y = element_line(color=&quot;black&quot;, size = 1),
    # Remove borders and &quot;minor&quot; gridlines
    panel.border = element_blank(),
    panel.grid.minor = element_blank(),
    # remove legend
    legend.position=&#39;none&#39;
  )</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
</div>
</div>
<div id="final-version" class="section level3">
<h3>Final version</h3>
<ul>
<li>Adjust chart size from chunk properties<br />
</li>
<li>Save chart into object “v1”</li>
</ul>
<pre class="r fold-hide"><code>options(scipen=999)  # turn-off scientific notation like 1e+48

# Manual palette to match colors
continent_palette &lt;- c(&quot;Africa&quot; = &quot;#A3DDF7&quot;, &quot;Americas&quot; = &quot;#AAE828&quot;, &quot;Asia&quot; = &quot;#DB616F&quot;, &quot;Europe&quot; = &quot;#F6E71D&quot;, &quot;Oceania&quot; = &quot;#DB616F&quot;)

v1 &lt;- ggplot(df_1, aes(x = gdp, y = life_expectancy)) +
  scale_x_log10(limits = range(df_1$gdp)) +
  geom_point(aes(size = population, color = continent)) +
  scale_size(&quot;population&quot;, range = c(2, 40)) +
  scale_color_manual(values = continent_palette) +
  geom_text_repel(data=filter(df_1, population &gt; mean(population)),
                  aes(label = country, size = population / 2), 
                  family = &quot;inconsolata&quot;) +
  ggtitle(&quot;World Health Chart 2019 by Gapminder&quot;) +
  ylab(&quot;Lifespan, Life Expectancy&quot;) +
  xlab(&quot;Income, GDP per Capita&quot;) +
  theme_bw() +
  theme(
    plot.title = element_text(color = &quot;black&quot;, size = 14, face = &quot;bold&quot;),
    axis.line.x = element_line(color=&quot;black&quot;, size = 1),
    axis.line.y = element_line(color=&quot;black&quot;, size = 1),
    panel.border = element_blank(),
    panel.grid.minor = element_blank(),
    legend.position=&#39;none&#39;
  )

v1</code></pre>
<p><img src="gapminder_step_by_step_files/figure-html/unnamed-chunk-15-1.png" width="100%" /></p>
</div>
<div id="save-plot" class="section level3">
<h3>Save plot</h3>
<div id="as-vector-or-raster-image" class="section level4">
<h4>as vector or raster image</h4>
<pre class="r fold-hide"><code># As vector
ggsave(filename = &quot;assets/gapminder.svg&quot;, plot = v1, width=1280/72, height=720/72)

# As raster
ggsave(filename = &quot;assets/gapminder-sm.png&quot;, plot = v1, width=4, height=2.25)</code></pre>
</div>
</div>
</div>
</div>

<!-- Footer-->
<div class="footer text-center">
  <div class="container">
    <div class="row">
      <div class="col-lg-4 mb-5 mb-lg-0">
        <div class="footer-title text-uppercase mb-4">Use</div>
        <p class="footer-text text-center">This work is licensed under<br>Attribution 4.0 International<br><strong>CC BY 4.0</strong></p>
      </div>
      <div class="col-lg-4 mb-5 mb-lg-0">
        <div class="footer-title text-uppercase mb-4">Source</div>
        <p class="footer-text text-center">
          <a href="https://github.com/UN-AVT/kamino-web" class="centered">
          <img src="../../../z-assemblers/assets/icons/github-alt-brands.svg" alt="" height="32" style="margin-top: 0px;">
          </a>
        </p>
      </div>
      <div class="col-lg-4 mb-5 mb-lg-0">
        <div class="footer-title text-uppercase mb-4">Creation</div>
        <p class="footer-text text-center">Hand crafted with ♥ by<br>the <strong>Kamino Crew</strong></p>
      </div>
    </div>
  </div>
</div>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>



</body>
</html>
