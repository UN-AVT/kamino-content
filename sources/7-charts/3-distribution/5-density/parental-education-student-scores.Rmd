---
pagetitle: "Parental Education Student Scores"
output:
  bookdown::gitbook: default
documentclass: book
date: "`r Sys.Date()`"
---

```{r, include=FALSE}

knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
options(scipen = 999) ## To disable scientific notation

library(tidyverse)
library(janitor)
library(ggtext)
library(ggdist)
library(ggiraph)

library(showtext)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()

```

# Parental Education Student Scores
## Density

```{r, out.width="60%", fig.align="center", fig.cap="Photo by Sofatutor on Unsplash"}

masthead <- "assets/sofatutor-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```


> My parents always stressed the importance of education, working hard in school and learning as much as possible.\
  They also encouraged me to value myself and believe in myself and do what I thought was right for me...\
--- Hillary Clinton\

***

### Ingest
#### parental level of education, math score

```{r echo=TRUE, message=FALSE, warning=FALSE, class.source='fold-hide'}

url_root <- "https://raw.githubusercontent.com/UN-AVT/kamino-source/main/sources/0-shared/data/"
url_file <- "parental-education-student-scores/parental-education-student-scores.csv"
url <- paste0(url_root, url_file)

df <- read.csv(url, header = TRUE, stringsAsFactors = FALSE, encoding = "UTF-8")
df

```


### Wrangle
#### clean column names and factor education levels

```{r echo=TRUE, message=FALSE, warning=FALSE, class.source='fold-hide'}

df_wrangle <- df %>% janitor::clean_names()
df_wrangle <- df_wrangle %>%
  mutate(parental_level_of_education = factor(parental_level_of_education, 
                                              levels = c('some high school',
                                                         'high school',
                                                         'some college',
                                                         "associate's degree",
                                                         "bachelor's degree",
                                                         "master's degree")))
df_wrangle

```


### View / Chart
#### with stat_slab and stat_dotsinterval


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source ='fold-hide'}

theme_opts <- theme(
    text = element_text(family = "inconsolata"), 
    plot.title = element_text(color = "black", size = 12, face = "bold"),
    plot.subtitle = element_text(color = "black", size = 10),
    plot.caption = element_text(color = "#555555", size = 9),
    panel.background = element_rect(fill = '#F5F5F5', color = NA),
    panel.border = element_blank(),
    plot.background = element_rect(fill = '#F5F5F5', color = NA),
    plot.margin = unit(c(0.5, 0.5, 0.5, 0.25), "in"),
    panel.grid.major.x = element_line(color = "#999999", size = 1.0, linetype = "dotted"),
    panel.grid.minor.x = element_blank(),
    panel.grid.major.y = element_blank(),
    panel.grid.minor.y = element_blank(),
    axis.ticks.y = element_blank(),
    legend.position = "top"
)

v1 <- ggplot(df_wrangle, aes(parental_level_of_education, math_score)) +
  stat_slab(side = "left",scale = 0.5, fill = '#F06292') +
  stat_dotsinterval(scale = 0.6, fill = '#F48FB1', color = '#ffffff') +
  labs(title = "Parental Levels of Education and Students Scores",
       y = 'Students Math Scores',
       x = NULL,
       caption = 'Source: Kaggle') +
  theme_minimal() +
  theme_opts

girafe(ggobj = v1, width_svg = 16, height_svg = 9,
       options = list(opts_sizing(rescale = TRUE, width = 0.9))
)

```

### References
#### citations for narrative and data sources


* Narrative: Luis Freites, 30DayChartChallenge [GO](https://github.com/luisfrein/-30DayChartChallenge/tree/master/D27.Educational){target="_blank"}
* Data Source: Kaggle, Students Performance in Exams, [GO](https://www.kaggle.com/spscientist/students-performance-in-exams){target="_blank"}
