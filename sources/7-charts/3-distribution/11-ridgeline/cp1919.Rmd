---
pagetitle: "CP1919"
output:
  html_document:
    theme: lumen
    css: "../../../z-assemblers/assets/styles/content.css"
    df_print: paged
    mathjax: NULL
    code_folding: show
    include:
      in_header: ["../../../z-assemblers/fragments/google-analytics.html", "../../../z-assemblers/fragments/header.html"]
      after_body: "../../../z-assemblers/fragments/footer.html"
    self_contained: false
    lib_dir: "vendor"
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo = FALSE)
options(scipen = 999) ## To disable scientific notation

# Clear environment and memory
rm(list = ls(all.names = TRUE)) #will clear all objects includes hidden objects.
gc() #free up memrory and report the memory usage.

library(tidyverse)
library(ggridges)
library(ggiraph)

library(showtext)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()

```

<div class="activity">
TEMPORALS
</div>

# CP1919
## Ridgeline Plot

```{r, out.width="60%", fig.align="center", fig.cap="Photo by Mutante on Wikipedia"}

masthead <- "assets/arecibo-radio-observatory.jpg"
knitr::include_graphics(masthead, dpi=72)

```

> My eureka moment was in the dead of night, the early hours of the morning,\
  on a cold, cold night, and my feet were so cold, they were aching...\
--- Jocelyn Bell Burnell, describing her discovery of the first pulsar radio signals.

***

EIGHTY SUCCESSIVE PERIODS of the first pulsar observed, CP1919 (Cambridge pulsar at 19 hours 19 minutes right ascension), are stacked on top of one another using the average period of 1.33730 seconds in this computer-generated illustration produced at the Arecibo Radio Observatory in Puerto Rico. Although the leading edges of the radio pulses occur within a few thousandths of a second of the predicted times, the shape of the pulses is quite irregular. Some of this irregularity in radio reception is caused by the effects of transmission through the interstellar medium. The average pulse width is less than 50 thousandths of a second.

### Ingest
#### observations

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

# Load data
cp1919_df = read.csv("archetypes/CP1919/CP1919.csv", header = TRUE, stringsAsFactors = TRUE)  # read text file
cp1919_df

```

### Plot
#### lines and coordinates

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide', fig.width = 1920/72, fig.height = 1080/72, out.width = "100%"}

v1 = ggplot(cp1919_df, aes(x, y, height = y, group=line )) +
  geom_ridgeline(fill = "black", colour = "white", size = 0.4) +
  theme_ridges() +
  coord_cartesian(clip = "off") +
  theme(panel.grid = element_blank(),
   panel.background = element_rect(fill = "black"),
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   axis.title = element_blank())

girafe(ggobj = v1, width_svg = 1280/72, height_svg = 720/72,
      options = list(opts_sizing(rescale = TRUE, width = 1.0)))

```

### Plot
#### portrait layout

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide', fig.width = 1920/72, fig.height = 1080/72, out.width = "100%"}

v2 = ggplot(cp1919_df, aes(x, ymax=y, ymin=0, group=line)) +
  geom_ribbon(colour='white') +
  theme_bw() +
  theme(legend.position='none') + 
  theme(panel.grid = element_blank(),
        axis.text  = element_blank(),
        axis.title = element_blank(),
        axis.ticks = element_blank()) + 
  coord_fixed()

girafe(ggobj = v2, width_svg = 1280/72, height_svg = 720/72,
      options = list(opts_sizing(rescale = TRUE, width = 1.0)))

```



```{r, echo=FALSE, eval=FALSE, message=FALSE, warning=FALSE, class.source = 'fold-hide'}

# eval = FALSE as default; set to TRUE for production outputs

# full version
ggsave(filename = "assets/cp1919-fs.svg", plot = v1, width=1280/72, height=720/72)

# thumbnail version without annotations
ggsave(filename = "assets/cp1919-sm.png", plot = v1, width=4, height=2.25)

```



### References
#### citations for narrative and data sources

* Narrative and Data Source: From "The Nature of Pulsars," by Jeremiah P. Ostriker, Scientific American, January 1971.
  * [GO](https://blogs.scientificamerican.com/sa-visual/pop-culture-pulsar-origin-story-of-joy-division-s-unknown-pleasures-album-cover-video/){target="_blank"}


```{r, echo=FALSE, eval=FALSE, message=FALSE, warning=FALSE, class.source='fold-hide'}

# eval = FALSE as default; run manually as chunk
# PUSH TO PRODUCTION
source("../../../z-scripts/create_production_output.R", local = knitr::knit_global())

```



```{js, message=FALSE, warning=FALSE, echo=FALSE}

// Must be included to position footer
$(function() {
  $('.main-container').after($('.footer'));
})

```



