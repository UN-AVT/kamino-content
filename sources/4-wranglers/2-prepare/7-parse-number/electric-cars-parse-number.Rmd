---
pagetitle: "Kamino"
output: 
  html_document:
    theme: lumen
    css: "../../../z-assemblers/assets/styles/content.css"
    df_print: paged
    mathjax: NULL
    code_folding: show
    include:
      in_header: "../../../z-assemblers/fragments/header.html"
      after_body: "../../../z-assemblers/fragments/footer.html"
    self_contained: false
    lib_dir: "vendor"
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
options(scipen=999)  # turn-off scientific notation like 1e+48

# Clear environment and memory
rm(list = ls(all.names = TRUE)) #will clear all objects includes hidden objects.
gc() #free up memory and report the memory usage.

library(tidyverse)
library(dplyr)
library(readr)
library(ggiraph)

library(kableExtra)
library(knitcitations)
library(bibtex)

library(showtext)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()
```

<div class="activity">
WRANGLERS  
</div>

# Case: Electric Cars
## Parse Numbers

```{r, out.width="60%", fig.align="center", fig.cap="Photo by CHUTTERSNAP on Unsplash"}

masthead <- "assets/chuttersnap-xfaYAsMV1p8-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```

<div class="figure-text">Electric Cars</div>

> The time is right for electric cars - in fact the time is critical...\
--- Carlos Ghosn\

***

### Load the data

```{r Load raw data, warning=FALSE, echo=TRUE, warning=FALSE,class.source = 'fold-hide'}

df <- read.csv('./archetypes/Cheapestelectriccars-EVDatabase.csv', header = TRUE, stringsAsFactors = FALSE)
df
```

#### Let's take a look at the datatypes we have on our dataset. 

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

str(df)

```

#### Most of our data are in Character formats where it should be numerical. Having numerical data-points will allow us to do computations as well as plot the data efficiently. It's imperative that we get rid of the strings in the data point and convert it to numerical. 

#### We'll use the help of the function parse_number from library(readr)

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}


df$Acceleration <- parse_number(df$Acceleration)
df$TopSpeed <- parse_number(df$TopSpeed)
df$Range <- parse_number(df$Range)
df$Efficiency <- parse_number(df$Efficiency)

```


#### Now we can observe the columns that've been parsed and converted to numerical 

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

str(df)

```


### References
#### The data file used in this wrangler task was retrieved from <a href="https://www.kaggle.com/kkhandekar/cheapest-electric-cars" target="_blank" rel="noopener noreferrer"> Kaggle </a> source in which data was scraped <a href="https://ev-database.org/" target="_blank" rel="noopener noreferrer"> Electric Vehicle Database </a> 

```{r generateBibliography, echo=FALSE, message=FALSE, warning=FALSE}

# cleanbib()
# options("citation_format" = "pandoc")
# read.bibtex(file = "./citations/UN-Member-State-admission-dates.bib")

```


```{r, echo=FALSE, eval=FALSE, message=FALSE, warning=FALSE, class.source='fold-hide'}

# eval = FALSE as default; run manually as chunk

# ENTER METADATA
# Use space to separate keywords or "-" for phrases
methods <- "parse-number" # mostly used in wranglers and analytics
keywords <- 'Electric-Car cars'
commands <- 'parse_number'
sources <- 'Electric-Vehicle-Database'

# CREATE METADATA
source("../../../z-scripts/create_metadata.R", local = knitr::knit_global())

# RUN PRODUCTION OUTPUTS
source("../../../z-scripts/create_production_output.R", local = knitr::knit_global())


```


```{js, message=FALSE, warning=FALSE, echo=FALSE}

// Must be included to position footer
$(function() {
  $('.main-container').after($('.footer'));
})

```

