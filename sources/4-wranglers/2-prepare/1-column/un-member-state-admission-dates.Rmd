---
pagetitle: "UN Member State admission dates"
output:
  bookdown::gitbook: default
documentclass: book
date: "`r Sys.Date()`"
---

```{r, include=FALSE}

knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
options(scipen=999)  # turn-off scientific notation like 1e+48

library(tidyverse)
library(kableExtra)

library(showtext)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()

```

WRANGLERS  

# UN Member State admission dates
## Manage Column

```{r, out.width="60%", fig.align="center", fig.cap="Photo by Mathias P.R. Reding on Unsplash"}

masthead <- "assets/un-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```

<div class="figure-text">UN Headquarters Geneva</div>

> Consider the momentous event in architecture when the wall parted and the column became...\
--- Louis Kahn\

***

### Load the data

```{r Load raw data, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

df <- read_csv('./archetypes/UN-Member-State-admission-dates.csv')
df
```



### Rename One or More Columns
#### <span style="color: #0000FF;font-weight:bold">Member</span> and <span style="color: #FE9A2E;font-weight:bold"> StateDate.of.Admission</span> 

```{r {r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

df_1 <- df %>% rename(MEMBER_STATE='Member', ADMISSION_DATE='StateDate of Admission')

```

### Rename Multiple Columns
#### Based on a rule remove <span style="color: #40FF00;font-weight:bold">UN_</span> prefix from columns names

```{r , message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}
# ".": Matches any single character except new line
df_2 <- df_1 %>% set_names(~stringr::str_replace_all(., "UN_", ""))
 
```

### Rename All
#### convert all column names to <span style="background: #E3CEF6;font-weight:bold">lowercase</span>

```{r , message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

df_3 <- df_2
names(df_3) <- tolower(names(df_2))

```


### Constant Value Column
#### Add <span style="color: #FF00BF;font-weight:bold">new_col</span> 


```{r , message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

df_4 <- add_column(df_3,new_col=('I am new'))
#df_4 <- add_column(df_3,geo_location=paste0("( ",df_3$centroid_lat," ,",df_3$centroid_long, " )"))


```



#### Filter/Select First <span style="background: #CEE3F6;font-weight:bold">3 columns</span> 

```{r , message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

df_5 <- df_4 %>% select(member_state,admission_date,region_name)

```



### Separate a Column
#### <span style="color: #CC2EFA;font-weight:bold">admission_date</span> into <span style="color: #3104B4;font-weight:bold">day, month, year</span>


```{r , message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

df_6 <- df_5%>%separate(admission_date, c('day','month','year'),"/")

```



### Combine Columns
#### <span style="color: #FF0040;font-weight:bold">member_state</span> and <span style="color: #FF0040;font-weight:bold">region_name</span> into <span style="color: #FFBF00;font-weight:bold">member_region</span>


```{r , message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-show'}

df_7 <- df_6 %>% unite('member_region',member_state, region_name, sep = "_", remove = TRUE, na.rm = FALSE)

```


### References
#### The citations and data sources used for this case

The data file used in this wrangler task was retrieved from <a href="https://www.un.org/press/en/2006/org1469.doc.htm" target="_blank">UN Member State Admission Dates</a> source which was published by the United Nations Meetings Coverages and Press Releases website.

<pre>
@misc{unitednations_2019_united,
  author = {United Nations},
  title = {UNITED NATIONS MEMBER STATES | Meetings Coverage and Press Releases},
  url = {https://www.un.org/press/en/2006/org1469.doc.htm},
  urldate = {2021-02-13},
  year = {2019},
  organization = {Un.org}
}
</pre>
