---
pagetitle: "Transit Costs"
output:
  bookdown::gitbook: default
documentclass: book
date: "`r Sys.Date()`"
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, dev = "svg" )
options(scipen=999)  # turn-off scientific notation like 1e+48

library(tidyverse)
library(scales)
library(showtext)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()
 
```

WRANGLERS  


# Transit Costs
## Format numbers

```{r, out.width="40%", fig.align="center",out.height="40%", fig.cap="Photo by Josh Hild on Unsplash"}

masthead <- "assets/josh-hild-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```

> You can't understand a city without using its public transportation system...\
--- Erol Ozan\

***


### Ingest the data
country, city, line, start_year, end_year, time_comp, length, cost, etc.

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide'}


url_root <- "https://raw.githubusercontent.com/UN-AVT/kamino-source/main/sources/0-shared/data/"
url_file <- "transit-costs/transit-costs.csv"
url <- paste0(url_root, url_file)

df <- read.csv(url, header = TRUE, stringsAsFactors = FALSE)
df

```

Let's select only __city__ and __cost__ columns where __currency__ is "USD".

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide'}

new_df <- df %>% filter(currency== 'USD') %>% select(city, cost) 
new_df

```

### Wrangle
Let's add dollar sign "$" for the cost column using buil-in <kbd>paste0()</kbd> function.

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide'}

new_df$cost<-paste0("$ ", new_df$cost)
head(new_df)

```



Another method to add dollar sign "$" for the cost column is by using <kbd>dollar_format()</kbd> function in <kbd>scales</kbd> package.


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide'}

new_df2 <- df %>% filter(currency== 'USD') %>% select(city, cost) 

new_df2$cost <- dollar_format()(new_df2$cost)
head(new_df2)

```



### References
#### Citations and data sources

* Data source: Transit Costs Project, [GO]( https://transitcosts.com/){target="_blank"}
