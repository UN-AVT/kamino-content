---
pagetitle: "Cost of Mobile Data"
output:
  html_document:
    theme: lumen
    css: "../../../z-assemblers/assets/styles/content.css"
    df_print: paged
    mathjax: NULL
    code_folding: show
    include:
      in_header: ["../../../z-assemblers/fragments/google-analytics.html", "../../../z-assemblers/fragments/header.html"]
      after_body: "../../../z-assemblers/fragments/footer.html"
    self_contained: false
    lib_dir: vendor
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, dev = "svg" )
options(scipen=999)  # turn-off scientific notation like 1e+48

# Clear environment and memory
rm(list = ls(all.names = TRUE)) #will clear all objects includes hidden objects.
gc() #free up memory and report the memory usage.

library(tidyverse)
library(showtext)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()
 
```

<div class="activity">
WRANGLERS  
</div>

# Cost of Mobile Data
## Rounding numbers

```{r, out.width="80%", fig.align="center",out.height="80%", fig.cap="Photo by Stephen Phillips on Unsplash"}

masthead <- "assets/stephen-phillips-hostreviews-co-uk-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```

> We are all now connected by the internet, like neurons in a giant brain.\
--- Stephen Hawking\

***


The United States is among the most expensive for mobile data. According to a study by UK based research firm __businessfibre__, the US follows Switzerland, South Korea and Norway among the nations with the most expensive broadband and mobile internet charges.


### Ingest the data
#### Rank, Country, and Avg_Price_of_1GB_USD.

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide'}


url_root <- "https://raw.githubusercontent.com/UN-AVT/kamino-source/main/sources/0-shared/data/"
url_file <- "cost-of-mobile-data/cost-of-1gb-of-data.csv"
url <- paste0(url_root, url_file)

df <- read.csv(url, header = TRUE, stringsAsFactors = FALSE)
df

```


### Wrangle
We can round numbers to specified decimals, let's round __Avg_Price_of_1GB_USD__ to 1 decimal using <kbd>round()</kbd> function.

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide'}

df1 <- df
df1$Avg_Price_of_1GB_USD <- round(df1$Avg_Price_of_1GB_USD,digits = 1)
df1

```


We can also use <kbd>format()</kbd> function in combination with the <kbd>round()</kbd> function. The output of the format function is a __character string__.For performing calculations, we need to convert it back to the numeric class. 


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide'}

df2 <- df 

df2$Avg_Price_of_1GB_USD <- format(round(df2$Avg_Price_of_1GB_USD,1),nsmall = 1)
df2

```

The <kbd>sprintf()</kbd> R function also provides the possibility to control decimal places of a certain number or a numeric vector.


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide'}

df3 <- df

df3$Avg_Price_of_1GB_USD <- sprintf(df3$Avg_Price_of_1GB_USD, fmt='%#.1f')
df3

```


### References
#### Citations and data sources

* Narration: Small Biz Trends, [GO](https://smallbiztrends.com/2020/05/mobile-data-in-the-us-is-4th-most-expensive-in-the-world.html){target="_blank"}
* Data source: Visual Capitalist, [GO](https://www.visualcapitalist.com/cost-of-mobile-data-worldwide/){target="_blank"}


```{r, echo=FALSE, eval=FALSE, message=FALSE, warning=FALSE, class.source='fold-hide'}

# eval = FALSE as default; run manually as chunk
# PUSH TO PRODUCTION
source("../../../z-scripts/create_production_output.R", local = knitr::knit_global())

```


```{js, message=FALSE, warning=FALSE, echo=FALSE}

// Must be included to position footer
$(function() {
  $('.main-container').after($('.footer'));
})

```







