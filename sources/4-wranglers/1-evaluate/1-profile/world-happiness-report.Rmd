---
title: "Kamino"
output:
  bookdown::gitbook: default
documentclass: book
date: "`r Sys.Date()`"
---


```{r, include=FALSE}

knitr::opts_chunk$set(
	echo = FALSE,
	message = FALSE,
	warning = FALSE
)
options(scipen=999)  # turn-off scientific notation like 1e+48

library(tidyverse)
library(showtext)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()

```

WRANGLERS  

# Which Countries are the Happiest?
## Positive, negative, and zero values

```{r, out.width="60%", fig.align="center", fig.cap="Photo by Alex Alvarez on Unsplash"}

masthead <- "assets/happypeople.jpg"
knitr::include_graphics(masthead, dpi=72)

```

<div class="figure-text">World Happiness Report</div>

> The World Happiness Report has proven to be an indispensable tool for policymakers \
looking to better understand what makes people happy...\
--- Jeffrey Sachs

***

### Ingest

```{r load-data, echo=TRUE, message=FALSE, warning=FALSE, class.source= 'fold-hide'}

#Load data
url_root <- "https://raw.githubusercontent.com/UN-AVT/kamino-source/main/sources/0-shared/data/"
url_file <- "happiness-report/happiness-report-2020.csv"
url <- paste0(url_root, url_file)
df <- read.csv(url, header = TRUE)

df

```

### Wrangle

Check values for all the numerical columns and retrieve records with positive, negative and zero value using <kbd>sum()</kbd>

```{r echo=TRUE, message=FALSE, warning=FALSE, class.source= 'fold-hide'}

# Check for positive, negative and zero values
df1 <- df[,3:ncol(df)]

nRows <- dim(df1)[1]

calcStats <- function(x) {
  temp <- na.omit(df[, x])
  pos <- sum(temp > 0)       # positive value
  is_zero <- sum(temp = 0)   # zero value
  neg <-  sum(temp < 0)      # negative value
  c("number of positives" = pos, "negatives" = neg, "zero" = is_zero)
}
  
result <- as.data.frame(Map(calcStats, colnames(df1)))
result

```
### References
#### citations for narrative and data sources:

* Narrative and Data sources: The 7th World Happiness Report, [GO](https://worldhappiness.report/ed/2019/){target="_blank"}  

<!-- or -->

<pre>
@misc{helliwell_2019_world,
  author = {  Helliwell,  John F. Helliwell and Layard, Richard  and Sachs, Jeffrey D. },
  title = {World Happiness Report 2019},
  url = {https://worldhappiness.report/ed/2019/},
  urldate = {2021-05-18},
  year = {2019},
  organization = {Worldhappiness.report}
}
</pre>
