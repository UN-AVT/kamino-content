---
pagetitle: "New York Restaurant Inspection"
output: 
  html_document:
    theme: lumen
    css: "../../../z-assemblers/assets/styles/content.css"
    df_print: paged
    mathjax: NULL
    code_folding: show
    include:
      in_header: ["../../../z-assemblers/fragments/google-analytics.html", "../../../z-assemblers/fragments/header.html"]
      after_body: "../../../z-assemblers/fragments/footer.html"
    self_contained: false
    lib_dir: vendor
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE)
options(scipen=999)  # turn-off scientific notation like 1e+48

# Clear environment and memory
rm(list = ls(all.names = TRUE)) #will clear all objects includes hidden objects.
gc() #free up memory and report the memory usage.

library(tidyverse)
library(showtext)
library(stringr)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()

```

<div class="activity">
WRANGLERS  
</div>

# New York Restaurant Inspection
## Validate

```{r, out.width="60%", fig.align="center", fig.cap="Photo by Gerrie Van Der Walt on Unsplash"}

masthead <- "assets/gerrie-van-der-walt-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```

<div class="figure-text">Burger</div>


> I'm plagued with indecision in my life. I can't figure out what to order in a restaurant...\
--- Chuck Close\

***

### Ingest Data


```{r load-data, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}
url_root <- "https://raw.githubusercontent.com/UN-AVT/kamino-source/main/sources/0-shared/data/"
url_file <- "new-york-restaurant-inspection/New_York_City_Restaurant_Inspection.csv"
url <- paste0(url_root, url_file)
df <- read_csv(url, header = TRUE, nrows=30)
df

```

### is_length()

String Length validation is especially useful to make sure the number of characters entered into a field can be restricted. It can be used to make sure the number of characters are the same throughout the column.

For example, United States phone numbers must be 10 digits. We can use this information to validate that all the cells in the column 'Phone' are 10 digits.

We'll validate both Phone Number(10 digits) and Postal Code (5 digits) by using <kbd>nchar()</kbd>


```{r, echo=TRUE, message=FALSE}

nchar(df$ZIPCODE)== 5
nchar(df$PHONE)==10

```

We can also utilize <kbd>str_length()</kbd> from the stringr library

```{r, echo=TRUE, message=FALSE}

str_length(df$ZIPCODE)== 5
str_length(df$PHONE)==10

```



### References
#### citations for narrative and data sources

* Data sources: Kaggle, [GO](https://www.kaggle.com/new-york-city/nyc-inspections/version/1){target="_blank"}

```{r, echo=FALSE, eval=FALSE, message=FALSE, warning=FALSE, class.source='fold-hide'}

# eval = FALSE as default; run manually as chunk
# PUSH TO PRODUCTION
source("../../../z-scripts/create_production_output.R", local = knitr::knit_global())

```



```{js, message=FALSE, warning=FALSE, echo=FALSE}

// Must be included to position footer
$(function() {
  $('.main-container').after($('.footer'));
})

```
