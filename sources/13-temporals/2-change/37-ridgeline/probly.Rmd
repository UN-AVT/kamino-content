---
pagetitle: "Kamino"
output: 
  html_document:
    theme: lumen
    css: ["../../../z-assemblers/assets/styles/content/kamino.css", "../../../z-assemblers/assets/icons/line-awesome/css/line-awesome.css"]
    df_print: paged
    mathjax: NULL
    code_folding: show
    include:
      in_header: "../../../z-assemblers/fragments/header.html"
      after_body: "../../../z-assemblers/fragments/footer.html"
    #self_contained: false
    #lib_dir: libs
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo = FALSE)
options(scipen = 999) ## To disable scientific notation

# Clear environment and memory
rm(list = ls(all.names = TRUE)) #will clear all objects includes hidden objects.
gc() #free up memrory and report the memory usage.

library(dplyr)
library(tidyr)
library(forcats)
library(ggplot2)
library(ggridges)

library(knitcitations)
library(bibtex)

```

<div class="activity">
TEMPORALS
</div>

# Ridgeline Plot
## probly

A Ridgeline plot (sometimes called Joyplot) shows the distribution of a numeric value for several groups. Distribution can be represented using histograms or density plots, all aligned to the same horizontal scale and presented with a slight overlap.

What probability would you assign to the phrase “...” were asked. Answers between 0 and 100 were recorded with the distribution for each question.  The results shown in the view indicate how people perceive probability vocabulary.

***

## Load data [Ingest]

```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

probly_df = read.csv("archetypes/probly.csv", header = TRUE, stringsAsFactors = TRUE)
probly_df

```


## Prepare data [Wrangle]


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

probly_df <- probly_df %>% mutate(text = fct_reorder(text, value))
probly_df

```


## Plot [ Views / Temporals ]


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide', fig.width=12, fig.height=8, , fig.align='center', out.width="100%"}

y_axis <- c( "Almost Certainly",
  "Highly Likely",
  "Very Good Chance",
  "Probable",
  "Likely",
  "Probably",
  "We Believe",
  "Better Than Even",
  "About Even",
  "We Doubt",
  "Improbable",
  "Unlikely",
  "Probably Not",
  "Little Chance",
  "Almost No Chance",
  "Highly Unlikely",
  "Chances Are Slight")

v1 = ggplot(probly_df, aes(y=text, x=value,  fill=text)) +
    geom_density_ridges(scale = 2, alpha=0.6) +
    scale_x_continuous(expand = c(0, 0)) +
    scale_y_discrete(labels=rev(y_axis)) +
    coord_cartesian(clip = "off") +
    theme(
      legend.position="none"
    ) +
    xlab("") +
    ylab("")

v1

```


## Plot [ Views / Temporals ]


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide', fig.width=12, fig.height=8, , fig.align='center', out.width="100%"}

v2 = ggplot(probly_df, aes(y=text, x=value,  fill=text)) +
    geom_density_ridges(alpha=0.6, stat="binline", bins=20) +
    scale_x_continuous(expand = c(0, 0)) +
    scale_y_discrete(labels=rev(y_axis)) +
    coord_cartesian(clip = "off") +
    theme(
      legend.position="none"
    ) +
    xlab("") +
    ylab("")

v2

```



```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

# Save plot to svg file
# ggsave(filename = "probly-v1.svg", plot = v1, width=24.5, height=13)
# ggsave(filename = "probly-v2.svg", plot = v2, width=24.5, height=13)

```


# Exercises and practice
## Knime and R practice solutions



# References
## The citations and data sources used for this case


```{r generateBibliography, echo=FALSE, eval=TRUE, message=FALSE, warning=FALSE}

# cleanbib()
# read.bibtex(file = "./citations.bib")

```



```{js, message=FALSE, warning=FALSE, echo=FALSE}

// Must be included to position footer
$(function() {
  $('.main-container').after($('.footer'));
})

```

