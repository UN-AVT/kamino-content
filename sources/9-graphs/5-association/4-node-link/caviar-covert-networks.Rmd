---
pagetitle: "Caviar"
output:
  html_document:
    theme: lumen
    css: "../../../z-assemblers/assets/styles/content.css"
    df_print: paged
    mathjax: NULL
    code_folding: show
    include:
      in_header: ["../../../z-assemblers/fragments/google-analytics.html", "../../../z-assemblers/fragments/header.html"]
      after_body: "../../../z-assemblers/fragments/footer.html"
    self_contained: false
    lib_dir: "vendor"
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(message=FALSE, warning=FALSE, echo=FALSE, dev='svg')
options(scipen=999)  # turn-off scientific notation like 1e+48

# Clear environment and memory
rm(list = ls(all.names = TRUE)) #will clear all objects includes hidden objects.
gc() #free up memory and report the memory usage.

library(tidyverse)
library(countrycode)
library(ggraph)
library(igraph)
library(graphlayouts)
library(tidygraph)
library(ggiraph)

library(showtext)
## Loading Google fonts (https://fonts.google.com/)
font_add_google("Inconsolata", "inconsolata")
# turn on showtext
showtext_auto()

```

<div class="activity">
GRAPHS
</div>

# Caviar
## computed layouts

```{r, out.width = "60%", fig.align = 'center', fig.cap="Photo by Bermix Studio on Unsplash"}

masthead <- "assets/bermix-studio-unsplash.jpg"
knitr::include_graphics(masthead, dpi=72)

```

> ...didn't pursue us...As time went on, we noticed that they never pursued us...\
--- Gracia Burnham, ASG kidnap survivor\

***

MONTREAL, Quebec, April 18 -- At least 30 alleged members of a Montreal-based gang of international drug traffickers have been arrested in Canada, while 10 affiliates were taken into custody in Spain, a police spokesman said Thursday. Inspector Jacques Tanguay of the Royal Canadian Mounted Police said the arrests followed a three-year investigation that involved police in Spain, Britain, Belgium, Holland, Brazil, Peru, Panama and the United States. Those arrested in Montreal were alleged to be members or affiliates of a Mafia organization known to police as the West End Gang, Tanguay said. Speaking at a press conference, Tanguay said the police sweep, code- named 'Operation Caviar,' began early Wednesday, when 238 police officers and members of other law-enforcement agencies began arresting the suspects, bagging a total of 30 by the end of the day. 'Operation Caviar' involved 'international networking at the highest level,' and took the fight against drug trafficking to a 'a new level of international cooperation,' he said. Included in the sweep was Frank (Santos) Cotroni, 65, a Mafia chief who announced in 1991 that he was giving up a life a crime, and his 35- year-old son Francesco (Frank Jr.), the police spokesman said. Tanguay told United Press International 'Operation Caviar' marked the first time law-enforcement agencies in so many parts of the world had worked in unison to crack a major drug-smuggling operation. Those arrested in Montreal face charges of conspiracy to import, importing, trafficking or possession of narcotic drugs, police said.

They were arraigned in court Thursday. RCMP investigator Joseph Tomeo said the gangs were importing between 2,200 and 22,000 pounds (1,000 and 10,000 kg) of cocaine per month through Montreal. Heavily armed police guarded $250 million worth of cocaine, which was seized in the months leading up to the raids. 'Operation Caviar' generated 'Operation Scoop' which concentrated on the Montreal connection while drug seizures were made in Toronto and Halifax in Canada, Port Newark in the United States, London, Panama City, and Rio de Janeiro. Tanguay said more arrests were expected from ongoing European investigations. Police in Belgium are searching for a suspect identified as Anthonie Horst, while the authorities in Spain are seeking a man identified as Samir Rabbat, who evaded capture in Wednesday's roundup. Also included in the Montreal sweep was Wallace Lee, 39, vice president of the prestigious financial firm of Wood Gundy. Police said Lee was the Cotroni family's financial adviser. Another key figure netted was Daniel Serero, 37, alleged to be the new leader of the West End Gang, replacing convicted killer and drug trafficker Alan Ross, who is presently serving a prison term in Florida. Police described Serero as one of the world's most powerful and active narcotics importers.

Project Caviar was a unique investigation that targeted a network of hashish and cocaine importers operating out of Montreal. The network was targeted between 1994 and 1996 by a tandem investigation uniting the Montreal Police, the Royal Canadian Mounted Police, and other national and regional law-enforcement agencies from various countries (i.e., England, Spain, Italy, Brazil, Paraguay, and Colombia). The case is unique because it involved a specific investigative approach that will be referred to as a “seize and wait” strategy. Unlike most law-enforcement strategies, the mandate set forward in the Project Caviar case was to seize identified drug consignments, but not to arrest any of the identified participants. This took place over a 2-year period. Thus, although 11 importation consignments were seized at different moments throughout this period, arrests only took place at the end of the investigation. What this case offers is a rare opportunity to study the evolution of a criminal network phenomenon as it was being disrupted by law-enforcement agents. The inherent investigative strategy permits an assessment of change in the network structure and an inside look into how network participants react and adapt to the growing constraints set upon them.

The principal data source was comprised of information submitted as evidence during the trials of 22 participants in the Caviar network. It included 4,279 paragraphs of information (over 1,000 pages) revealing electronically intercepted telephone conversations between network participants. These transcripts were used to create the overall matrix of the drug-trafficking operation’s communication system throughout the course of the investigation. Individuals falling in the surveillance net were not all participants in the trafficking operation. An initial extraction of all names appearing in the surveillance data led to the identification of 318 individuals. From this pool, 208 individuals were not implicated in the trafficking operations. Most were simply named during the many transcripts of conversations, but never detected. Others who were detected had no clear participatory role within the network (e.g., family members or legitimate entrepreneurs). The final network was thus composed of 110 participants.

Ties are communication exchanges between criminals. Values represent level of communication activity. Data comes from police wiretapping.

### Ingest
#### agent × event data


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

df_path <- "archetypes/caviar/CAVIAR_FULL.csv"
df_csv <- read.csv(df_path, header=TRUE, row.names=1, check.names=FALSE, na.strings = "")
df_csv

```


### Wrangle
#### convert matrix to graph, filter by degree


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

df_csv[is.na(df_csv)] <- 0
matrix <- as.matrix(df_csv) 
df_graph <- graph_from_incidence_matrix(matrix)
df_graph

# less than 3 degrees
three_degrees <- which(degree(df_graph)<3)
df_graph <- delete.vertices(df_graph, three_degrees)

# remove isolates
isolates <- which(degree(df_graph)==0)
df_graph <- delete.vertices(df_graph, isolates)

```


### Analytics
#### compute sna measures


```{r}

# Network	PK
# weights	weighted
# directionality	undirected
# connectedness	false
# no. of nodes n	246
# no. of isolated nodes ni	16
# no. of edges m	2571
# no. of components |cc|	26
# max avg. path length 〈d〉 for cc	3.034
# max shortest path length d	9
# density δ	0.085
# avg. degree 〈k	20.9
# max degree k	78
# avg. clustering coeff. 〈C〉	0.753

```


### Analytics
#### compute layout


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

# Layouts can be computationally intensive
# Un-comment only for use

# igraph
# layout <- create_layout(cg, layout = 'dh')
# layout <- create_layout(cg, layout = 'fr')
# layout <- create_layout(cg, layout = 'gem')
# layout <- create_layout(cg, layout = 'lgl')
# layout <- create_layout(cg, layout = 'sugiyama')
# layout <- create_layout(cg, layout = 'star')
# layout <- create_layout(cg, layout = 'kk', maxiter = 100)
# layout <- create_layout(cg, layout = 'drl')
# layout <- create_layout(cg, layout = 'linear')
# layout <- create_layout(cg, layout = 'linear' , circular = TRUE)

# ggraph
# layout <- create_layout(cg, layout = 'linear')
# layout <- create_layout(cg, layout = 'linear', circular = TRUE)
layout <- create_layout(cg, layout = 'stress')
# layout <- create_layout(cg, layout = 'sparse_stress')
# layout <- create_layout(cg, layout = 'backbone')
# layout <- create_layout(cg, layout = 'pmds')
# layout <- create_layout(cg, layout = 'eigen')
# layout <- create_layout(cg, layout = 'centrality')
# layout <- create_layout(cg, layout = 'focus')
# layout <- create_layout(cg, layout = 'dendrogram')
# layout <- create_layout(cg, layout = 'unrooted')
# layout <- create_layout(cg, layout = 'matrix')
# layout <- create_layout(cg, layout = 'hive')
# layout <- create_layout(cg, layout = 'fabric')

# graphlayouts
# layout <- create_layout(cg, layout = "nicely")
# layout <- create_layout(cg, layout = "stress")
# layout <- create_layout(cg, layout = "focus", focus = 1)

```




```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source = 'fold-hide'}

# Edge Types
# geom_edge_arc
# geom_edge_arc0
# geom_edge_arc2
# geom_edge_density
# geom_edge_diagonal
# geom_edge_diagonal0
# geom_edge_diagonal2
# geom_edge_elbow
# geom_edge_elbow0
# geom_edge_elbow2
# geom_edge_fan
# geom_edge_fan0
# geom_edge_fan2
# geom_edge_hive
# geom_edge_hive0
# geom_edge_hive2
# geom_edge_link
# geom_edge_link0
# geom_edge_link2
# geom_edge_loop
# geom_edge_loop0

```



### View
#### with computed layout and aesthetics


```{r, message=FALSE, warning=FALSE, echo=TRUE, class.source='fold-hide', fig.align='center', out.width="100%"}

theme_opts <- theme(
    text = element_text(family = "inconsolata"), 
    # plot.margin = unit(c(1.5,1,1,1), "in"),
    legend.position='none'
)

v1 <- ggraph(layout) + 
  geom_edge_link() +
  geom_node_point(size = 2) +
  geom_node_label(aes(label = name), size = 4) +
  theme_graph() +
  theme_opts

girafe(ggobj = v1, width_svg = 1280/72, height_svg = 720/72,
       options = list(opts_sizing(rescale = TRUE, width = 1.0))
)


```


### References
#### citations for narrative and data sources


* Narrative: Morselli, C., 2009. Inside criminal networks. New York: Springer.
* Data: UCINET, Covert Networks, https://sites.google.com/site/ucinetsoftware/datasets/covert-networks


```{r, echo=FALSE, eval=FALSE, message=FALSE, warning=FALSE, class.source='fold-hide'}

# eval = FALSE as default; run manually as chunk
# PUSH TO PRODUCTION
source("../../../z-scripts/create_production_output.R", local = knitr::knit_global())

```



```{js, message=FALSE, warning=FALSE, echo=FALSE}

// Must be included to position footer
$(function() {
  $('.main-container').after($('.footer'));
})

```


